import{r as u,j as r,S as c,n as Z,k as C,L as H,R as Q,l as L,a as k,h as te,m as K,T as P,o as re,p as se,b as F,q as X,s as ne,t as oe,v as ae,V as $,w as A,x as f,y as W,z as J,A as x,D as ie,E as le,F as ce,G as ue,P as de,H as pe,J as he,O as me,M as fe,N as _,Q as b,U as xe,W as Y}from"./vendor-BcDla1Uu.js";import{u as ge,L as we}from"./layout-layout-public-DmcLAO_3.js";import{L as be}from"./layout-layout-error-DZ0OlA4k.js";import{L as Pe}from"./layout-layout-private-qf8n6nP6.js";import{P as ye,a as je,b as Le,c as ke}from"./page-private-DAWryy5m.js";import{P as Ce,a as Se,b as Re}from"./page-public-D8V5mmEY.js";const Ie="The best service to manage your account",Oe="0.0.15-prod.2",ve="Jenesei ID",Ae="Jen. ID",qe="#ffffff",Me="prod",Ne="https://id.api.jenesei.ru",Ee=".jenesei.ru",Fe="wss://id.api.jenesei.ru",ze="auth_status",T=()=>u.useMemo(()=>({description:Ie,name:ve,shortName:Ae,themeColor:qe,mode:Me,version:Oe,baseURL:Ne,coreURL:Ee,socketURL:Fe,cookieNameAccessToken:ze}),[]),De=s=>({pastResource:(n=>n==="jenesei_id")(s==null?void 0:s.pastResource)?s.pastResource:void 0}),_e=()=>r.jsxs(c,{sx:()=>({default:{alignItems:"stretch",justifyContent:"center",flexDirection:"row",flexGrow:1,userSelect:"none"}}),children:[r.jsx(N,{icon:"Profile",to:q.fullPath}),r.jsx(N,{icon:"Lock",to:V.fullPath}),r.jsx(N,{icon:"Language",to:U.fullPath}),r.jsx(N,{icon:"Resources",to:G.fullPath})]}),N=s=>{const t=Z(),a=C({select(n){return n.some(o=>o.fullPath===s.to)}});return r.jsx(H,{to:s.to,style:{width:"100%",height:"100%",textDecoration:"none",flexGrow:1,display:"flex"},children:r.jsxs(c,{isRipple:!0,sx:()=>({default:{background:a?t.palette.black05:t.palette.transparent,borderStyle:"solid",borderColor:a?t.palette.black80:t.palette.black05,borderWidth:"4px 0px 0px 0px",flexDirection:"row",gap:"16px",alignItems:"center",justifyContent:"center",alignSelf:"stretch",flexGrow:1,paddingBottom:"35px",boxSizing:"border-box"}}),children:[r.jsx(Q,{color:t.palette.black80}),r.jsx(c,{sx:n=>({default:{background:a?n.palette.black80:n.palette.whiteStandard,borderRadius:"100px",alignItems:"center",justifyContent:"center",width:"44px",minWidth:"44px",height:"44px",boxShadow:n.effects.button}}),children:r.jsx(L,{type:"id",name:s.icon,size:"large",primaryColor:a?"whiteStandard":"black80"})})]})})},Te=()=>{const{t:s}=k("translation"),{changeLng:t,lng:a}=ge(),n=C({select(o){return o.some(i=>i.fullPath===y.fullPath)}});return r.jsx(c,{sx:o=>({default:{flexGrow:1,alignItems:"center",justifyContent:"flex-end",gap:"12px",position:"relative",padding:n?"10px 20px":"0px",backgroundColor:o.palette.black05,boxShadow:"inset 0px 4px 4px 0px rgba(0, 0, 0, 0.25)"}}),children:n?r.jsx(te,{labelPlaceholder:s("form.language.placeholder"),isShowDropdownOptionIcon:!0,isOnClickOptionClose:!0,isOnlyColorInSelectListOption:!0,isStayValueAfterSelect:!0,genre:"realebail-white",size:"medium",sx:{default:{width:"120px"}},value:a,onChange:o=>t(o)}):r.jsxs(r.Fragment,{children:[r.jsx(K,{src:"https://id.jenesei.ru/images/auth-back-mountain.jpg",alt:"Mountain",sxStack:o=>({default:{width:"100%",height:"100%",position:"absolute",alignItems:"center",justifyContent:"center",backgroundColor:o.palette.black10,pointerEvents:"none"}})}),r.jsxs(c,{sx:{default:{flexGrow:1,alignItems:"center",justifyContent:"center"}},children:[r.jsx(c,{sx:{default:{width:"82px",height:"82px"}},children:r.jsx(L,{type:"logo",name:"Jenesei",size:"100%",primaryColor:"whiteStandard"})}),r.jsxs(c,{sx:()=>({default:{alignItems:"flex-start",justifyContent:"center",position:"relative",flexDirection:"column"}}),children:[r.jsx(P,{sx:{default:{size:42,weight:700,color:"whiteStandard",shadow:"shadowPulse"}},children:s("public.layout.title")}),r.jsx(P,{sx:{default:{size:12,weight:500,color:"whiteStandard",shadow:"shadowPulse"}},children:s("public.layout.description")})]})]})]})})},Be=()=>{const s=re(),t=se(),a=u.useMemo(()=>s>0||t>0,[s,t]),{t:n}=k("translation",{keyPrefix:"private"}),{t:o}=k("translation",{keyPrefix:"public"}),{screenActual:i}=F();return C({select(p){return p.some(h=>h.fullPath===y.fullPath)}})?r.jsxs(c,{sx:()=>({default:{flexGrow:1,justifyContent:"space-between",alignItems:"stretch",flexDirection:"column",overflow:"hidden"}}),children:[r.jsx(c,{sx:()=>({default:{alignItems:"center",justifyContent:"flex-start",paddingLeft:i==="default"?"20px":"12px",height:"68px"}}),children:r.jsx(P,{sx:{default:{size:18,weight:500,color:"black100",line:1}},children:n("title-account")})}),r.jsxs(c,{sx:p=>({default:{alignItems:"center",justifyContent:"flex-start",flexDirection:"column",flexGrow:1,borderStyle:"solid",borderColor:p.palette.black05,borderWidth:"2px 0px 0px 0px"}}),children:[r.jsx(E,{description:n("personal-info.menu.description"),title:n("personal-info.menu.title"),icon:"Profile",to:q.fullPath}),r.jsx(E,{description:n("sessions-and-security.menu.description"),title:n("sessions-and-security.menu.title"),icon:"Lock",to:V.fullPath}),r.jsx(E,{description:n("language-and-country.menu.description"),title:n("language-and-country.menu.title"),icon:"Language",to:U.fullPath}),r.jsx(E,{description:n("resources.menu.description"),title:n("resources.menu.title"),icon:"Resources",to:G.fullPath})]}),r.jsxs(c,{sx:p=>({default:{height:"84px",padding:i==="default"?"0px 26px":"0px 32px",gap:"14px",alignItems:"center",justifyContent:"flex-start",backgroundColor:p.palette.black100}}),children:[r.jsx(c,{sx:{default:{width:"32px",minWidth:"32px",height:"32px"}},children:a?r.jsx(L,{type:"loading",name:"Line",size:"100%",primaryColor:"whiteStandard"}):r.jsx(L,{type:"logo",name:"Jenesei",size:"100%",primaryColor:"blueRest"})}),i==="default"&&r.jsx(P,{sx:{default:{size:20,weight:700,color:"whiteStandard",line:1}},children:"Jenesei ID"})]})]}):r.jsx(c,{sx:()=>({default:{flexGrow:1,justifyContent:"space-between",alignItems:"stretch",flexDirection:"column",position:"relative",overflow:"hidden"}}),children:r.jsxs(r.Fragment,{children:[r.jsx(K,{src:"https://id.jenesei.ru/images/auth-back-mountain.jpg",alt:"Mountain",sxStack:p=>({default:{width:"100%",height:"100%",position:"absolute",alignItems:"center",justifyContent:"center",backgroundColor:p.palette.black10,pointerEvents:"none"}})}),r.jsxs(c,{sx:{default:{flexGrow:1,alignItems:"center",justifyContent:"center"}},children:[r.jsx(c,{sx:{default:{width:"82px",height:"82px"}},children:r.jsx(L,{type:"logo",name:"Jenesei",size:"100%",primaryColor:"whiteStandard"})}),r.jsxs(c,{sx:()=>({default:{alignItems:"flex-start",justifyContent:"center",position:"relative",flexDirection:"column"}}),children:[r.jsx(P,{sx:{default:{size:42,weight:700,color:"whiteStandard",shadow:"shadowPulse"}},children:o("layout.title")}),r.jsx(P,{sx:{default:{size:12,weight:500,color:"whiteStandard",shadow:"shadowPulse"}},children:o("layout.description")})]})]})]})})},E=s=>{const{screenActual:t}=F(),a=Z(),n=C({select(o){return o.some(i=>i.fullPath===s.to)}});return r.jsx(H,{to:s.to,style:{width:"100%",height:"fit-content",textDecoration:"none",display:"flex"},children:r.jsxs(c,{isRipple:!0,sx:()=>({default:{background:n?a.palette.black05:a.palette.transparent,borderStyle:"solid",borderColor:n?a.palette.black80:a.palette.transparent,borderWidth:"0px 0px 0px 4px",width:"100%",padding:"16px 20px 16px 22px",flexDirection:"row",gap:"16px",alignItems:"center",justifyContent:"flex-start",alignSelf:"stretch",height:"84px"}}),children:[r.jsx(Q,{color:a.palette.black80}),r.jsx(c,{sx:o=>({default:{background:n?o.palette.black80:o.palette.whiteStandard,borderRadius:"100px",alignItems:"center",justifyContent:"center",width:"44px",minWidth:"44px",height:"44px",boxShadow:o.effects.button}}),children:r.jsx(L,{type:"id",name:s.icon,size:"large",primaryColor:n?"whiteStandard":"black80"})}),t==="default"?r.jsxs(c,{sx:()=>({default:{alignItems:"flex-start",justifyContent:"center",flexDirection:"column",gap:"4px"}}),children:[r.jsx(P,{sx:{default:{size:14,weight:500,color:"black80",line:1}},children:s.title}),r.jsx(P,{sx:{default:{variant:"h8",color:"black50",line:2}},children:s.description})]}):null]})})},Ue=()=>{const{screenActual:s}=F(),{t}=k("translation",{keyPrefix:"url.nav"}),a=X({select:i=>i.location.pathname.replace(/\/$/,"")}),[n,o]=u.useState({titles:[],urls:[]});return u.useEffect(()=>{const i=t(a,{defaultValue:["__MISSING__"],returnObjects:!0}),w=i[0]!=="__MISSING__";o(w?{titles:i,urls:a.split("/").filter(p=>p!=="")}:{titles:[],urls:a.split("/").filter(p=>p!=="")})},[a,t]),r.jsx(c,{sx:i=>({default:{flexGrow:1,alignItems:"center",justifyContent:"flex-start",gap:"6px",overflow:"hidden",position:"relative",padding:"0px 20px",borderStyle:"solid",borderColor:i.palette.black05,borderWidth:s!=="mobile"?"0px 0px 0px 2px":"0px"}}),children:n.titles.map((i,w)=>r.jsxs(u.Fragment,{children:[r.jsx(ne,{to:`/${n.urls.slice(0,w+1).join("/")}`,style:{textDecoration:"none"},sx:{default:{variant:"h8",weight:500,color:"black60",line:1}},children:i}),w<n.titles.length-1&&r.jsx(L,{type:"id",name:"ArrowMini1",turn:-90,size:"large",primaryColor:"black60"})]},w))})},ee=u.createContext(null),rt=()=>{const s=u.useContext(ee);if(!s)throw new Error("useValidation must be used within an ProviderValidation");return s},Ge=s=>{const{t}=k("translation",{keyPrefix:"form"}),a=oe(),n=ae(),o=u.useMemo(()=>({blur:e=>async d=>{const j=Object.keys(d.formApi.fieldInfo).reduce((g,R)=>{var I,O,v;const m=R,l=(v=(O=(I=d.formApi.fieldInfo)==null?void 0:I[m])==null?void 0:O.instance)==null?void 0:v.getMeta();return l!=null&&l.isTouched&&(g[m]=d.value[m]),g},{});try{return await e.validate(j,{abortEarly:!1}),null}catch(g){return g instanceof $?{fields:g.inner.reduce((m,l)=>(l.path&&Object.prototype.hasOwnProperty.call(j,l.path)&&!m[l.path]&&(m[l.path]=l.message),m),{})}:null}},change:e=>async d=>{const j=Object.keys(d.formApi.fieldInfo).reduce((g,R)=>{var I,O,v;const m=R,l=(v=(O=(I=d.formApi.fieldInfo)==null?void 0:I[m])==null?void 0:O.instance)==null?void 0:v.getMeta();return l!=null&&l.isTouched&&(l!=null&&l.isDirty)&&(g[m]=d.value[m]),g},{});try{return await e.validate(j,{abortEarly:!1}),null}catch(g){return g instanceof $?{fields:g.inner.reduce((m,l)=>(l.path&&Object.prototype.hasOwnProperty.call(j,l.path)&&!m[l.path]&&(m[l.path]=l.message),m),{})}:null}}}),[]),i=u.useCallback(e=>{const d=e.isBlurred&&e.isDirty?e.errorMap.onChange:e.errorMap.onBlur||"";return{errorMessage:d,isError:!!d,isErrorAbsolute:!0}},[]),w=u.useMemo(()=>A({username:f().trim().required(t("username.errors.required")).min(2,t("username.errors.minLength",{minLength:2})).max(12,t("username.errors.maxLength",{maxLength:12})).test("no-spaces",t("username.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))),password:f().trim().required(t("password.errors.required")).min(8,t("password.errors.minLength",{minLength:8})).max(128,t("password.errors.maxLength",{maxLength:128})).test("no-spaces",t("password.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))).test("has-uppercase",t("password.errors.uppercase"),e=>/[A-Z]/.test(e||"")).test("has-lowercase",t("password.errors.lowercase"),e=>/[a-z]/.test(e||"")).test("has-number",t("password.errors.digit"),e=>/[0-9]/.test(e||"")).test("has-special-char",t("password.errors.special"),e=>/[!()@#$%^&*_.-]/.test(e||""))}),[t]),p=u.useMemo(()=>A({language:f().trim(),password:f().trim()}),[]),h=u.useMemo(()=>A({oldPassword:f().trim().required(t("password.errors.required")).min(8,t("password.errors.minLength",{minLength:8})).max(128,t("password.errors.maxLength",{maxLength:128})).test("no-spaces",t("password.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))),newPassword:f().trim().required(t("password.errors.required")).min(8,t("password.errors.minLength",{minLength:8})).max(128,t("password.errors.maxLength",{maxLength:128})).test("no-spaces",t("password.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))).test("has-uppercase",t("password.errors.uppercase"),e=>/[A-Z]/.test(e||"")).test("has-lowercase",t("password.errors.lowercase"),e=>/[a-z]/.test(e||"")).test("has-number",t("password.errors.digit"),e=>/[0-9]/.test(e||"")).test("has-special-char",t("password.errors.special"),e=>/[!()@#$%^&*_.-]/.test(e||"")).test("not-same-as-old",t("password.errors.sameAsOld"),function(e){return e!==this.parent.oldPassword}),confirmNewPassword:f().trim().required(t("password.errors.required")).oneOf([W("currentPassword"),""],t("password.errors.mismatch"))}),[t]),M=u.useMemo(()=>A({dateOfBirth:J().required(t("dateOfBirth.errors.required")).test("is-required",t("dateOfBirth.errors.required"),e=>e!=null&&e!==0).test("valid-date",t("dateOfBirth.errors.invalid"),e=>e===0?!1:x.utc(e).isValid()).test("min-age",t("dateOfBirth.errors.minAge",{minAge:18}),e=>e==null?!0:x.utc(e).valueOf()<=x.utc().subtract(18,"years").valueOf()).test("max-age",t("dateOfBirth.errors.maxAge",{maxAge:118}),e=>e==null?!0:x.utc(e).valueOf()>=x.utc().subtract(118,"years").valueOf()).test("is-not-future",t("dateOfBirth.errors.future"),e=>e==null?!0:x.utc(e).valueOf()<=x.utc().valueOf()),code:f().trim().required(t("code.errors.required")).length(5,t("code.errors.length")),email:f().trim().required(t("email.errors.required")).email(t("email.errors.invalid")).test("no-spaces",t("email.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))).test("email-check",t("email.errors.alreadyExists"),async function(e){const{createError:d}=this;if(!e||!e.includes("@")||e.includes(" "))return!0;try{return!(await n({path:{email:e}})).value}catch{return d({message:t("email.errors.no-check")})}}),username:f().trim().required(t("username.errors.required")).min(2,t("username.errors.minLength",{minLength:2})).max(12,t("username.errors.maxLength",{maxLength:12})).test("no-spaces",t("username.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))).test("login-check",t("username.errors.alreadyExists"),async function(e){const{createError:d}=this;if(!e||e.length<2||e.length>12||e.includes(" "))return!0;try{return!(await a({path:{nickname:e}})).value}catch{return d({message:t("username.errors.no-check")})}}),currentPassword:f().trim().required(t("password.errors.required")).min(8,t("password.errors.minLength",{minLength:8})).max(128,t("password.errors.maxLength",{maxLength:128})).test("no-spaces",t("password.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))).test("has-uppercase",t("password.errors.uppercase"),e=>/[A-Z]/.test(e||"")).test("has-lowercase",t("password.errors.lowercase"),e=>/[a-z]/.test(e||"")).test("has-number",t("password.errors.digit"),e=>/[0-9]/.test(e||"")).test("has-special-char",t("password.errors.special"),e=>/[!()@#$%^&*_.-]/.test(e||"")),confirmPassword:f().trim().required(t("password.errors.required")).oneOf([W("currentPassword"),""],t("password.errors.mismatch"))}),[n,a,t]),z=u.useMemo(()=>A({dateOfBirth:J().required(t("dateOfBirth.errors.required")).test("is-required",t("dateOfBirth.errors.required"),e=>e!=null&&e!==0&&e!=="").test("valid-date",t("dateOfBirth.errors.invalid"),e=>e===0?!1:x.utc(e).isValid()).test("min-age",t("dateOfBirth.errors.minAge",{minAge:18}),e=>e==null?!0:x.utc(e).valueOf()<=x.utc().subtract(18,"years").valueOf()).test("max-age",t("dateOfBirth.errors.maxAge",{maxAge:118}),e=>e==null?!0:x.utc(e).valueOf()>=x.utc().subtract(118,"years").valueOf()).test("is-not-future",t("dateOfBirth.errors.future"),e=>e==null?!0:x.utc(e).valueOf()<=x.utc().valueOf()),firstName:f().trim().required(t("firstName.errors.required")).min(2,t("firstName.errors.minLength",{minLength:2})).max(12,t("firstName.errors.maxLength",{maxLength:12})).test("no-spaces",t("firstName.errors.no-spaces"),e=>!(e!=null&&e.includes(" "))),lastName:f().trim().required(t("lastName.errors.required")).min(2,t("lastName.errors.minLength",{minLength:2})).max(12,t("lastName.errors.maxLength",{maxLength:12})).test("no-spaces",t("lastName.errors.no-spaces"),e=>!(e!=null&&e.includes(" ")))}),[t]);return r.jsx(ee.Provider,{value:{validationUser:z,validationFunctions:o,validationSignIn:w,validationSignUp:M,validationPasswordUpdate:h,validationLanguageAndCountryCode:p,getError:i},children:s.children})};function Ve(){const s=T();return u.useEffect(()=>{console.table(s)},[s]),r.jsxs(r.Fragment,{children:[r.jsx(Ge,{children:r.jsx($e,{})}),s.mode==="test"&&r.jsxs(r.Fragment,{children:[r.jsx(ie,{buttonPosition:"bottom-left"}),r.jsx(le,{position:"bottom-right"})]})]})}const $e=()=>{const{shortName:s}=T(),{t}=k("translation"),{isLoading:a,isSuccess:n,isFetched:o}=ce(),i=u.useMemo(()=>o?n:void 0,[o,n]),w=u.useMemo(()=>!!a,[a]),p=ue(),h=C({select(e){return e.some(d=>d.fullPath===y.fullPath)}}),M=C({select(e){return e.some(d=>d.fullPath===S.fullPath)}});u.useEffect(()=>{i!==void 0&&(h?i||p({to:"/pu"}):M&&i&&p({to:"/pr"}))},[i,h,M,p]);const{screenActual:z}=F();return r.jsx(de,{gap:12,position:z==="mobile"?"bottom-center":"bottom-right",visibleToasts:3,zIndex:100,default:{genre:"black",button:{content:t("sonner.undo")}},children:r.jsx(pe,{defaultPreview:{visible:!w,defaultVisible:!1},defaultTitle:s,defaultDescription:t("meta.description"),isScrollOutlet:!0,defaultBgColor:"whiteStandard",defaultStatusBarColor:"whiteStandard",leftAside:{component:r.jsx(Be,{}),isTopFooter:!0,isTopNav:!0,length:{default:h?"420px":"50dvw",tablet:h?"96px":null,mobile:null}},footer:{component:r.jsx(_e,{}),length:{default:null,tablet:null,mobile:h?"95px":null}},nav:{component:r.jsx(Ue,{}),length:{default:h?"68px":null,tablet:h?"68px":null,mobile:h?"40px":null}},header:{zIndex:1,component:r.jsx(Te,{}),length:{default:null,tablet:h?null:"170px",mobile:h?null:"170px"}},main:{zIndex:0},children:r.jsx(We,{})})})},We=()=>{const{shortName:s}=T(),{t}=k("translation",{keyPrefix:"url.title"}),a=X({select:o=>o.location.pathname.replace(/\/$/,"")}),{changeTitle:n}=he();return u.useEffect(()=>{const o=t(a,{defaultValue:"__MISSING__"});n(o!=="__MISSING__"?o:s)},[n,s,a,t]),r.jsx(me,{})},B=fe()({component:Ve,validateSearch:De,errorComponent:be,notFoundComponent:()=>r.jsx(_,{to:S.fullPath})}),y=b({getParentRoute:()=>B,component:Pe,notFoundComponent:()=>r.jsx(_,{to:q.fullPath}),path:"/pr",beforeLoad:s=>{if(s.location.pathname.replace(/\/$/,"")==="/pr")throw Y({to:q.fullPath})}}),S=b({getParentRoute:()=>B,component:we,notFoundComponent:()=>r.jsx(_,{to:D.fullPath}),path:"/pu",beforeLoad:s=>{if(s.location.pathname.replace(/\/$/,"")==="/pu")throw Y({to:D.fullPath})}}),q=b({getParentRoute:()=>y,component:ke,path:"/personal-info"}),U=b({getParentRoute:()=>y,component:Le,path:"/language-and-country"}),G=b({getParentRoute:()=>y,component:je,path:"/resources"}),V=b({getParentRoute:()=>y,component:ye,path:"/sessions-and-security"}),Je=b({getParentRoute:()=>S,component:Re,path:"/sign-up"}),D=b({getParentRoute:()=>S,component:Se,path:"/sign-in"}),Ze=b({getParentRoute:()=>S,component:Ce,path:"/forgot-password"}),He=B.addChildren({LayoutRoutePublic:S.addChildren({PageRoutePublicSignUp:Je,PageRoutePublicSignIn:D,PageRoutePublicForgotPassword:Ze}),LayoutRoutePrivate:y.addChildren({PageRoutePrivatePersonalInfo:q,PageRoutePrivateLanguageAndCountry:U,PageRoutePrivateResources:G,PageRoutePrivateSessionsAndSecurity:V})}),st=xe({routeTree:He,context:{queryClient:void 0},defaultPreload:"intent",defaultPreloadStaleTime:0});export{Je as P,Ze as a,D as b,T as c,st as r,rt as u};
